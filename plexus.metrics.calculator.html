

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>plexus.metrics.calculator module &mdash; Plexus 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=9edc463e" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=2709fde1"></script>
      <script src="_static/doctools.js?v=fd6eb6e6"></script>
      <script src="_static/sphinx_highlight.js?v=6ffebe34"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="plexus.metrics.test_calculator module" href="plexus.metrics.test_calculator.html" />
    <link rel="prev" title="plexus.metrics package" href="plexus.metrics.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Plexus
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="plexus.html">plexus package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="plexus.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="plexus.analysis.html">plexus.analysis package</a></li>
<li class="toctree-l3"><a class="reference internal" href="plexus.cli.html">plexus.cli package</a></li>
<li class="toctree-l3"><a class="reference internal" href="plexus.config.html">plexus.config package</a></li>
<li class="toctree-l3"><a class="reference internal" href="plexus.core.html">plexus.core package</a></li>
<li class="toctree-l3"><a class="reference internal" href="plexus.dashboard.html">plexus.dashboard package</a></li>
<li class="toctree-l3"><a class="reference internal" href="plexus.data.html">plexus.data package</a></li>
<li class="toctree-l3"><a class="reference internal" href="plexus.input_sources.html">plexus.input_sources package</a></li>
<li class="toctree-l3"><a class="reference internal" href="plexus.linting.html">plexus.linting package</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="plexus.metrics.html">plexus.metrics package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="plexus.metrics.html#submodules">Submodules</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="plexus.plexus_logging.html">plexus.plexus_logging package</a></li>
<li class="toctree-l3"><a class="reference internal" href="plexus.processors.html">plexus.processors package</a></li>
<li class="toctree-l3"><a class="reference internal" href="plexus.reports.html">plexus.reports package</a></li>
<li class="toctree-l3"><a class="reference internal" href="plexus.scores.html">plexus.scores package</a></li>
<li class="toctree-l3"><a class="reference internal" href="plexus.storage.html">plexus.storage package</a></li>
<li class="toctree-l3"><a class="reference internal" href="plexus.utils.html">plexus.utils package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plexus.html#submodules">Submodules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="plexus.data.html">plexus.data package</a></li>
<li class="toctree-l1"><a class="reference internal" href="plexus.scores.html">plexus.scores package</a></li>
<li class="toctree-l1"><a class="reference internal" href="plexus.processors.html">plexus.processors package</a></li>
<li class="toctree-l1"><a class="reference internal" href="plexus.storage.html">plexus.storage package</a></li>
<li class="toctree-l1"><a class="reference internal" href="plexus.cli.html">plexus.cli package</a></li>
<li class="toctree-l1"><a class="reference internal" href="plexus.dashboard.html">plexus.dashboard package</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Plexus</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="plexus.html">plexus package</a></li>
          <li class="breadcrumb-item"><a href="plexus.metrics.html">plexus.metrics package</a></li>
      <li class="breadcrumb-item active">plexus.metrics.calculator module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/plexus.metrics.calculator.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-plexus.metrics.calculator">
<span id="plexus-metrics-calculator-module"></span><h1>plexus.metrics.calculator module<a class="headerlink" href="#module-plexus.metrics.calculator" title="Link to this heading"></a></h1>
<p>Core metrics calculation logic for items and score results.
This module provides reusable functions for calculating metrics that can be used
by both Lambda functions and CLI commands.</p>
<dl class="py class">
<dt class="sig sig-object py" id="plexus.metrics.calculator.MetricsCalculator">
<span class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></span><span class="sig-prename descclassname"><span class="pre">plexus.metrics.calculator.</span></span><span class="sig-name descname"><span class="pre">MetricsCalculator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graphql_endpoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_bucket_minutes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plexus.metrics.calculator.MetricsCalculator" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A utility class for calculating items and score results metrics over time periods.</p>
<p>Uses API key authentication to connect to the Plexus GraphQL API and provides
methods to count items and score results within specific timeframes, 
generate time buckets, and calculate hourly rates and statistics.</p>
<p>Initialize the MetricsCalculator.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>graphql_endpoint: The GraphQL API endpoint URL
api_key: The API key for authentication
cache_bucket_minutes: The width of the cache buckets in minutes.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="plexus.metrics.calculator.MetricsCalculator.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graphql_endpoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_bucket_minutes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plexus.metrics.calculator.MetricsCalculator.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the MetricsCalculator.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>graphql_endpoint: The GraphQL API endpoint URL
api_key: The API key for authentication
cache_bucket_minutes: The width of the cache buckets in minutes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plexus.metrics.calculator.MetricsCalculator.count_items_in_timeframe">
<span class="sig-name descname"><span class="pre">count_items_in_timeframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#plexus.metrics.calculator.MetricsCalculator.count_items_in_timeframe" title="Link to this definition"></a></dt>
<dd><p>Count items created within a specific timeframe using the GSI.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>account_id: The account ID to filter by
start_time: Start of the time range
end_time: End of the time range</p>
</dd>
<dt>Returns:</dt><dd><p>Total count of items in the timeframe</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plexus.metrics.calculator.MetricsCalculator.count_score_results_in_timeframe">
<span class="sig-name descname"><span class="pre">count_score_results_in_timeframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#plexus.metrics.calculator.MetricsCalculator.count_score_results_in_timeframe" title="Link to this definition"></a></dt>
<dd><p>Count score results updated within a specific timeframe using the GSI.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>account_id: The account ID to filter by
start_time: Start of the time range
end_time: End of the time range</p>
</dd>
<dt>Returns:</dt><dd><p>Total count of score results in the timeframe</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plexus.metrics.calculator.MetricsCalculator.get_clock_aligned_buckets">
<span class="sig-name descname"><span class="pre">get_clock_aligned_buckets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_size_minutes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">datetime</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#plexus.metrics.calculator.MetricsCalculator.get_clock_aligned_buckets" title="Link to this definition"></a></dt>
<dd><p>Calculates the clock-aligned buckets that are fully contained within the given time range.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plexus.metrics.calculator.MetricsCalculator.get_count_with_caching">
<span class="sig-name descname"><span class="pre">get_count_with_caching</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count_function</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#plexus.metrics.calculator.MetricsCalculator.get_count_with_caching" title="Link to this definition"></a></dt>
<dd><p>Get count for a time range, using clock-aligned cache buckets.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plexus.metrics.calculator.MetricsCalculator.get_items_summary">
<span class="sig-name descname"><span class="pre">get_items_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hours</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">24</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#plexus.metrics.calculator.MetricsCalculator.get_items_summary" title="Link to this definition"></a></dt>
<dd><p>Calculate key metrics for items over the last N hours.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>account_id: The account ID to filter by
hours: The number of hours to look back from the current time</p>
</dd>
<dt>Returns:</dt><dd><p>A dictionary of calculated metrics for items</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plexus.metrics.calculator.MetricsCalculator.get_score_results_summary">
<span class="sig-name descname"><span class="pre">get_score_results_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hours</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">24</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#plexus.metrics.calculator.MetricsCalculator.get_score_results_summary" title="Link to this definition"></a></dt>
<dd><p>Calculate key metrics for score results over the last N hours.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>account_id: The account ID to filter by
hours: The number of hours to look back from the current time</p>
</dd>
<dt>Returns:</dt><dd><p>A dictionary of calculated metrics for score results</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plexus.metrics.calculator.MetricsCalculator.get_time_buckets">
<span class="sig-name descname"><span class="pre">get_time_buckets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_size_minutes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">datetime</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#plexus.metrics.calculator.MetricsCalculator.get_time_buckets" title="Link to this definition"></a></dt>
<dd><p>Generate time buckets of a specific size between a start and end time.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plexus.metrics.calculator.MetricsCalculator.make_graphql_request">
<span class="sig-name descname"><span class="pre">make_graphql_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variables</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#plexus.metrics.calculator.MetricsCalculator.make_graphql_request" title="Link to this definition"></a></dt>
<dd><p>Make a GraphQL request to the API using API key authentication.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>query: The GraphQL query string
variables: Variables for the GraphQL query</p>
</dd>
<dt>Returns:</dt><dd><p>The response data from the API</p>
</dd>
<dt>Raises:</dt><dd><p>Exception: If the request fails or returns errors</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plexus.metrics.calculator.SQLiteCache">
<span class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></span><span class="sig-prename descclassname"><span class="pre">plexus.metrics.calculator.</span></span><span class="sig-name descname"><span class="pre">SQLiteCache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'plexus-record-count-cache.db'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plexus.metrics.calculator.SQLiteCache" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A simple SQLite-based cache for storing metric counts.</p>
<dl class="py method">
<dt class="sig sig-object py" id="plexus.metrics.calculator.SQLiteCache.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'plexus-record-count-cache.db'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plexus.metrics.calculator.SQLiteCache.__init__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plexus.metrics.calculator.SQLiteCache.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plexus.metrics.calculator.SQLiteCache.close" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plexus.metrics.calculator.SQLiteCache.create_table">
<span class="sig-name descname"><span class="pre">create_table</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plexus.metrics.calculator.SQLiteCache.create_table" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plexus.metrics.calculator.SQLiteCache.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#plexus.metrics.calculator.SQLiteCache.get" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plexus.metrics.calculator.SQLiteCache.set">
<span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plexus.metrics.calculator.SQLiteCache.set" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plexus.metrics.calculator.create_calculator_from_env">
<span class="sig-prename descclassname"><span class="pre">plexus.metrics.calculator.</span></span><span class="sig-name descname"><span class="pre">create_calculator_from_env</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cache_bucket_minutes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">15</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#plexus.metrics.calculator.MetricsCalculator" title="plexus.metrics.calculator.MetricsCalculator"><span class="pre">MetricsCalculator</span></a></span></span><a class="headerlink" href="#plexus.metrics.calculator.create_calculator_from_env" title="Link to this definition"></a></dt>
<dd><p>Create a MetricsCalculator instance from environment variables.</p>
<p>Uses standard PLEXUS_API_URL and PLEXUS_API_KEY environment variables.</p>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="plexus.metrics.html" class="btn btn-neutral float-left" title="plexus.metrics package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="plexus.metrics.test_calculator.html" class="btn btn-neutral float-right" title="plexus.metrics.test_calculator module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Anthus AI Solutions.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>