<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plexus Procedure DSL Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f5f5;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 3rem 2rem;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            font-weight: 700;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .intro {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .intro h2 {
            color: #667eea;
            margin-bottom: 1rem;
        }

        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .card {
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: transform 0.2s, box-shadow 0.2s;
            text-decoration: none;
            color: inherit;
            display: block;
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .card h3 {
            color: #667eea;
            margin-bottom: 0.5rem;
            font-size: 1.3rem;
        }

        .card p {
            color: #666;
            font-size: 0.95rem;
        }

        .card .icon {
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .features {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .features h2 {
            color: #667eea;
            margin-bottom: 1rem;
        }

        .features ul {
            list-style: none;
            padding: 0;
        }

        .features li {
            padding: 0.5rem 0;
            padding-left: 1.5rem;
            position: relative;
        }

        .features li:before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: #667eea;
            font-weight: bold;
        }

        .code-example {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 1.5rem;
            border-radius: 8px;
            overflow-x: auto;
            margin: 1rem 0;
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.9rem;
        }

        .quick-start {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .quick-start h2 {
            color: #667eea;
            margin-bottom: 1rem;
        }

        .footer {
            text-align: center;
            padding: 2rem;
            color: #666;
            background: white;
            margin-top: 2rem;
            border-radius: 8px;
        }

        .badge {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.8rem;
            margin-left: 0.5rem;
        }

        code {
            background: #f4f4f4;
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Plexus Procedure DSL</h1>
        <p>Configuration-Based Agentic Workflow Programming</p>
    </div>

    <div class="container">
        <div class="intro">
            <h2>Welcome to Plexus Procedures</h2>
            <p>
                The Plexus Procedure DSL enables you to define sophisticated agentic workflows through configuration,
                combining declarative YAML for component definitions with embedded Lua for orchestration logic.
                Build composable, recursive procedures with first-class human-in-the-loop support.
            </p>
        </div>

        <div class="features">
            <h2>Key Features</h2>
            <ul>
                <li><strong>Declarative + Imperative:</strong> YAML declares components, Lua orchestrates control flow</li>
                <li><strong>High-Level Primitives:</strong> Simple operations like <code>Worker.turn()</code> hide complex LLM mechanics</li>
                <li><strong>Uniform Recursion:</strong> Procedures work identically at all nesting levels</li>
                <li><strong>Human-in-the-Loop:</strong> First-class support for approval, input, review, and notification</li>
                <li><strong>Built-In Reliability:</strong> Automatic retries, validation, and error handling</li>
                <li><strong>Async Operations:</strong> Spawn procedures in parallel with simple primitives</li>
            </ul>
        </div>

        <div class="quick-start">
            <h2>Quick Example</h2>
            <p>A simple procedure that researches a topic and requests human approval:</p>
            <div class="code-example">name: content_reviewer
version: 1.0.0

params:
  topic:
    type: string
    required: true

outputs:
  approved:
    type: boolean
    required: true

agents:
  researcher:
    system_prompt: |
      Research and summarize: {params.topic}
    tools: [search, done]

workflow: |
  -- AI does research
  repeat
    Researcher.turn()
  until Tool.called("done")

  -- Human approves
  local approved = Human.approve({
    message = "Approve this research?",
    context = {findings = State.get("findings")}
  })

  return {approved = approved}</div>
        </div>

        <h2 style="margin: 2rem 0 1rem 0; color: #667eea;">Documentation</h2>
        <div class="card-grid">
            <a href="getting-started.html" class="card">
                <div class="icon">üöÄ</div>
                <h3>Getting Started</h3>
                <p>Learn the basics and write your first procedure. Understand core concepts and workflow patterns.</p>
            </a>

            <a href="hitl-guide.html" class="card">
                <div class="icon">ü§ù</div>
                <h3>Human-in-the-Loop Guide</h3>
                <p>Master human collaboration patterns: approval, input, review, notifications, and alerts.</p>
            </a>

            <a href="examples.html" class="card">
                <div class="icon">üìö</div>
                <h3>Examples & Patterns</h3>
                <p>Real-world examples from simple tasks to complex multi-stage workflows with HITL.</p>
            </a>

            <a href="api-reference.html" class="card">
                <div class="icon">üìñ</div>
                <h3>API Reference</h3>
                <p>Complete reference for all primitives: Procedure, Agent, Human, State, Stage, and more.</p>
            </a>

            <a href="../AGENTS.md" class="card">
                <div class="icon">üìù</div>
                <h3>AGENTS.md<span class="badge">Detailed</span></h3>
                <p>Comprehensive technical specification with every feature, pattern, and best practice.</p>
            </a>

            <a href="message-classification.html" class="card">
                <div class="icon">üí¨</div>
                <h3>Message Classification</h3>
                <p>Understand message types and visibility: INTERNAL, CHAT, NOTIFICATION, ALERT, PENDING.</p>
            </a>
        </div>

        <div class="features">
            <h2>Design Philosophy</h2>
            <ul>
                <li><strong>YAML Declares, Lua Orchestrates:</strong> Separation of configuration and control flow</li>
                <li><strong>High-Level Primitives:</strong> Abstract away LLM complexity with simple operations</li>
                <li><strong>Uniform Recursion:</strong> No special cases for nested procedure calls</li>
                <li><strong>Human-in-the-Loop First:</strong> Collaboration patterns built into the core</li>
                <li><strong>Built-In Reliability:</strong> Retries, validation, and recovery under the hood</li>
            </ul>
        </div>

        <div class="quick-start">
            <h2>Core Concepts</h2>
            <p><strong>Procedures</strong> are reusable units of agentic work that accept parameters, return outputs, and can invoke other procedures.</p>
            <p><strong>Agents</strong> are configured LLM instances with system prompts, tools, and behavior settings.</p>
            <p><strong>Workflows</strong> contain Lua orchestration code that controls execution flow.</p>
            <p><strong>HITL</strong> primitives enable procedures to request approval, gather input, submit work for review, and send notifications.</p>
            <p><strong>State</strong> provides mutable storage that persists across agent turns.</p>
            <p><strong>Stages</strong> track high-level workflow phases for monitoring and status reporting.</p>
        </div>

        <div class="footer">
            <p><strong>Plexus Procedure DSL v4.0.0</strong></p>
            <p>Part of the Plexus Platform by Anthus AI</p>
            <p><a href="https://github.com/AnthusAI/Plexus" style="color: #667eea;">GitHub</a> | <a href="https://plexus.docs.anthus.ai" style="color: #667eea;">Full Documentation</a></p>
        </div>
    </div>
</body>
</html>
