"use strict";(self.webpackChunkaws_amplify_gen2=self.webpackChunkaws_amplify_gen2||[]).push([[2432],{"./stories/Gauge.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CustomBackground:()=>CustomBackground,CustomSegments:()=>CustomSegments,Default:()=>Default,HighValue:()=>HighValue,LowValue:()=>LowValue,MetricsGrid:()=>MetricsGrid,NoTicks:()=>NoTicks,NoValue:()=>NoValue,Priority:()=>Priority,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),_components_gauge__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),__webpack_require__("./components/gauge.tsx"));const __WEBPACK_DEFAULT_EXPORT__={title:"Visualization/Gauge",component:_components_gauge__WEBPACK_IMPORTED_MODULE_2__._,tags:["autodocs"]},Default={args:{value:75,title:"Accuracy"}},Priority={args:{value:75,title:"Accuracy",priority:!0}},CustomSegments={args:{value:75,title:"Accuracy",segments:[{start:0,end:60,color:"var(--gauge-inviable)"},{start:60,end:85,color:"var(--gauge-converging)"},{start:85,end:100,color:"var(--gauge-great)"}]}},CustomBackground={args:{value:75,title:"Accuracy",backgroundColor:"var(--background)"},decorators:[Story=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"bg-card p-6 rounded-lg",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Story,{})})]},NoValue={args:{title:"Accuracy"}},LowValue={args:{value:30,title:"Accuracy"}},HighValue={args:{value:95,title:"Accuracy"}},NoTicks={args:{value:75,title:"Accuracy",showTicks:!1}},MetricsGrid={render:()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"grid grid-cols-2 gap-4 max-w-4xl",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_gauge__WEBPACK_IMPORTED_MODULE_2__._,{value:92.5,title:"Accuracy",priority:!0,information:"Accuracy measures the overall correctness of predictions, showing the percentage of all cases (both positive and negative) that were correctly classified.",informationUrl:"https://example.com/ml-metrics/accuracy"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_gauge__WEBPACK_IMPORTED_MODULE_2__._,{value:88.3,title:"Sensitivity",information:"Sensitivity (also called Recall) measures the ability to correctly identify positive cases, showing the percentage of actual positive cases that were correctly identified.",informationUrl:"https://example.com/ml-metrics/sensitivity"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_gauge__WEBPACK_IMPORTED_MODULE_2__._,{value:95.7,title:"Specificity",information:"Specificity measures the ability to correctly identify negative cases, showing the percentage of actual negative cases that were correctly identified.",informationUrl:"https://example.com/ml-metrics/specificity"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_gauge__WEBPACK_IMPORTED_MODULE_2__._,{value:90.1,title:"Precision",information:"Precision measures the accuracy of positive predictions, showing the percentage of predicted positive cases that were actually positive.",informationUrl:"https://example.com/ml-metrics/precision"})]})},__namedExportsOrder=["Default","Priority","CustomSegments","CustomBackground","NoValue","LowValue","HighValue","NoTicks","MetricsGrid"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {\n    value: 75,\n    title: 'Accuracy'\n  }\n}",...Default.parameters?.docs?.source}}},Priority.parameters={...Priority.parameters,docs:{...Priority.parameters?.docs,source:{originalSource:"{\n  args: {\n    value: 75,\n    title: 'Accuracy',\n    priority: true\n  }\n}",...Priority.parameters?.docs?.source}}},CustomSegments.parameters={...CustomSegments.parameters,docs:{...CustomSegments.parameters?.docs,source:{originalSource:"{\n  args: {\n    value: 75,\n    title: 'Accuracy',\n    segments: [{\n      start: 0,\n      end: 60,\n      color: 'var(--gauge-inviable)'\n    }, {\n      start: 60,\n      end: 85,\n      color: 'var(--gauge-converging)'\n    }, {\n      start: 85,\n      end: 100,\n      color: 'var(--gauge-great)'\n    }]\n  }\n}",...CustomSegments.parameters?.docs?.source}}},CustomBackground.parameters={...CustomBackground.parameters,docs:{...CustomBackground.parameters?.docs,source:{originalSource:"{\n  args: {\n    value: 75,\n    title: 'Accuracy',\n    backgroundColor: 'var(--background)'\n  },\n  decorators: [Story => <div className=\"bg-card p-6 rounded-lg\">\n        <Story />\n      </div>]\n}",...CustomBackground.parameters?.docs?.source}}},NoValue.parameters={...NoValue.parameters,docs:{...NoValue.parameters?.docs,source:{originalSource:"{\n  args: {\n    title: 'Accuracy'\n  }\n}",...NoValue.parameters?.docs?.source}}},LowValue.parameters={...LowValue.parameters,docs:{...LowValue.parameters?.docs,source:{originalSource:"{\n  args: {\n    value: 30,\n    title: 'Accuracy'\n  }\n}",...LowValue.parameters?.docs?.source}}},HighValue.parameters={...HighValue.parameters,docs:{...HighValue.parameters?.docs,source:{originalSource:"{\n  args: {\n    value: 95,\n    title: 'Accuracy'\n  }\n}",...HighValue.parameters?.docs?.source}}},NoTicks.parameters={...NoTicks.parameters,docs:{...NoTicks.parameters?.docs,source:{originalSource:"{\n  args: {\n    value: 75,\n    title: 'Accuracy',\n    showTicks: false\n  }\n}",...NoTicks.parameters?.docs?.source}}},MetricsGrid.parameters={...MetricsGrid.parameters,docs:{...MetricsGrid.parameters?.docs,source:{originalSource:'{\n  render: () => <div className="grid grid-cols-2 gap-4 max-w-4xl">\n      <Gauge value={92.5} title="Accuracy" priority={true} information={"Accuracy measures the overall correctness of predictions, showing the " + "percentage of all cases (both positive and negative) that were " + "correctly classified."} informationUrl="https://example.com/ml-metrics/accuracy" />\n      <Gauge value={88.3} title="Sensitivity" information={"Sensitivity (also called Recall) measures the ability to correctly " + "identify positive cases, showing the percentage of actual positive " + "cases that were correctly identified."} informationUrl="https://example.com/ml-metrics/sensitivity" />\n      <Gauge value={95.7} title="Specificity" information={"Specificity measures the ability to correctly identify negative " + "cases, showing the percentage of actual negative cases that were " + "correctly identified."} informationUrl="https://example.com/ml-metrics/specificity" />\n      <Gauge value={90.1} title="Precision" information={"Precision measures the accuracy of positive predictions, showing " + "the percentage of predicted positive cases that were actually positive."} informationUrl="https://example.com/ml-metrics/precision" />\n    </div>\n}',...MetricsGrid.parameters?.docs?.source}}}},"./components/gauge.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_:()=>Gauge});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_lib_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./lib/utils.ts");const calculateAngle=percent=>percent/100*(7*Math.PI/6),GaugeComponent=({value,beforeValue,segments,min=0,max=100,title,backgroundColor="var(--card)",showTicks=!0,information,informationUrl,priority=!1})=>{const[animatedValue,setAnimatedValue]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0),[animatedBeforeValue,setAnimatedBeforeValue]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0),normalizedValue=void 0!==value?(value-min)/(max-min)*100:0,[showInfo,setShowInfo]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1);(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{const startTime=performance.now(),startAngle=animatedValue,targetAngle=normalizedValue,startBeforeAngle=animatedBeforeValue,targetBeforeAngle=void 0!==beforeValue?(beforeValue-min)/(max-min)*100:null,animate=currentTime=>{const elapsed=currentTime-startTime,progress=Math.min(elapsed/600,1),easeProgress=1-Math.pow(1-progress,3),currentBeforeValue=null!==startBeforeAngle&&null!==targetBeforeAngle?startBeforeAngle+(targetBeforeAngle-startBeforeAngle)*easeProgress:null;setAnimatedValue(startAngle+(targetAngle-startAngle)*easeProgress),setAnimatedBeforeValue(null!=currentBeforeValue?currentBeforeValue:0),progress<1&&requestAnimationFrame(animate)};requestAnimationFrame(animate)}),[normalizedValue,beforeValue]);const calculateCoordinates=(angle,r=80)=>({x:r*Math.cos(angle-Math.PI/2),y:r*Math.sin(angle-Math.PI/2)}),topPadding=showTicks?104:80,viewBoxHeight=showTicks?200:170,clipHeight=showTicks?168:144;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex flex-col items-center w-full h-full max-h-[220px]",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"relative w-full h-full",style:{maxWidth:"20em"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"relative w-full h-full",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("svg",{viewBox:`-120 -${topPadding} 240 ${viewBoxHeight}`,preserveAspectRatio:"xMidYMid meet",style:{width:"100%",height:"100%",maxHeight:"100%"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("defs",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("clipPath",{id:"gaugeClip",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("rect",{x:"-120",y:-topPadding,width:"240",height:clipHeight})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("g",{clipPath:"url(#gaugeClip)",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("circle",{cx:"0",cy:"0",r:80,fill:backgroundColor}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("g",{transform:"rotate(-105)",children:[null==segments?void 0:segments.map(((segment,index)=>{if(segment.end-segment.start<=50){const startAngle=calculateAngle(segment.start),endAngle=calculateAngle(segment.end),outerStart=calculateCoordinates(startAngle),outerEnd=calculateCoordinates(endAngle),innerStart=calculateCoordinates(startAngle,55),innerEnd=calculateCoordinates(endAngle,55);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{d:`M ${outerStart.x} ${outerStart.y} \n               A 80 80 0 0 1 ${outerEnd.x} ${outerEnd.y}\n               L ${innerEnd.x} ${innerEnd.y} \n               A 55 55 0 0 0 ${innerStart.x} ${innerStart.y} \n               Z`,fill:segment.color,stroke:"none"},index)}const midPoint=segment.start+50,startAngle1=calculateAngle(segment.start),endAngle1=calculateAngle(midPoint),startAngle2=calculateAngle(midPoint),endAngle2=calculateAngle(segment.end),outerStart1=calculateCoordinates(startAngle1),outerEnd1=calculateCoordinates(endAngle1),innerStart1=calculateCoordinates(startAngle1,55),innerEnd1=calculateCoordinates(endAngle1,55),outerStart2=calculateCoordinates(startAngle2),outerEnd2=calculateCoordinates(endAngle2),innerStart2=calculateCoordinates(startAngle2,55),innerEnd2=calculateCoordinates(endAngle2,55);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("g",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{d:`M ${outerStart1.x} ${outerStart1.y} \n               A 80 80 0 0 1 ${outerEnd1.x} ${outerEnd1.y}\n               L ${innerEnd1.x} ${innerEnd1.y} \n               A 55 55 0 0 0 ${innerStart1.x} ${innerStart1.y} \n               Z`,fill:segment.color,stroke:"none"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{d:`M ${outerStart2.x} ${outerStart2.y} \n               A 80 80 0 0 1 ${outerEnd2.x} ${outerEnd2.y}\n               L ${innerEnd2.x} ${innerEnd2.y} \n               A 55 55 0 0 0 ${innerStart2.x} ${innerStart2.y} \n               Z`,fill:segment.color,stroke:"none"})]},index)})),showTicks&&[...segments||[],{start:100,end:100,color:"transparent"}].map(((segment,index)=>{const angle=calculateAngle(segment.start),{x,y}=calculateCoordinates(angle),lineEndX=1.08*x,lineEndY=1.08*y,angleInDegrees=180*angle/Math.PI,textOffset=105-10*(Math.abs(angleInDegrees-90)<15?.95:.3*Math.pow(Math.abs(angleInDegrees-90)/90,.5))+(100===segment.start?3:0),textX=textOffset*Math.cos(angle-Math.PI/2),textY=textOffset*Math.sin(angle-Math.PI/2);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("g",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("line",{x1:x,y1:y,x2:lineEndX,y2:lineEndY,className:"stroke-muted-foreground",strokeWidth:"0.5"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("g",{transform:`translate(${textX} ${textY}) rotate(105)`,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("text",{x:"0",y:"0",textAnchor:"middle",dominantBaseline:"middle",fontSize:"12",className:"fill-muted-foreground",children:[segment.start,"%"]})})]},index)})),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("g",{children:[void 0!==beforeValue&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{d:"M 0,-80 L -6,0 L 6,0 Z",className:"fill-muted-foreground opacity-40",transform:`rotate(${210*animatedBeforeValue/100})`}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{d:"M 0,-80 L -6,0 L 6,0 Z",className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(priority?"fill-focus":"fill-foreground",void 0===value&&"fill-card"),transform:`rotate(${210*animatedValue/100})`}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("circle",{cx:"0",cy:"0",r:"10",className:priority?"fill-focus":"fill-foreground"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("text",{x:"0",y:45,textAnchor:"middle",className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("text-[2.25rem] font-bold",priority?"fill-focus":"fill-foreground"),dominantBaseline:"middle",children:void 0!==value?value%1==0?`${value}%`:`${value.toFixed(1)}%`:""})]})]}),title&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("absolute left-1/2 -translate-x-1/2 flex items-center gap-2 whitespace-nowrap","text-[clamp(0.75rem,4vw,1rem)]",priority?"text-focus":"text-foreground"),style:{bottom:showTicks?"5%":"2%"},children:[title,information&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{onClick:()=>setShowInfo(!showInfo),className:"text-muted-foreground hover:text-foreground","aria-label":"Toggle information",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{d:"M12 16v-4M12 8h.01"})]})})]})]}),showInfo&&information&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"w-full text-sm text-left -mt-6 mb-8 pl-4 text-muted-foreground overflow-y-auto max-h-[100px]",children:[information.split("\n\n").map(((paragraph,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:index>0?"mt-4":"",children:paragraph},index))),informationUrl&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("a",{href:informationUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline mt-1 block",children:"more..."})]})]})})},defaultSegments=[{start:0,end:60,color:"var(--gauge-inviable)"},{start:60,end:80,color:"var(--gauge-converging)"},{start:80,end:90,color:"var(--gauge-almost)"},{start:90,end:95,color:"var(--gauge-viable)"},{start:95,end:100,color:"var(--gauge-great)"}],Gauge=({segments=defaultSegments,...props})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(GaugeComponent,{segments,...props});Gauge.__docgenInfo={description:"",methods:[],displayName:"Gauge",props:{value:{required:!1,tsType:{name:"number"},description:""},beforeValue:{required:!1,tsType:{name:"number"},description:""},segments:{required:!1,tsType:{name:"Array",elements:[{name:"Segment"}],raw:"Segment[]"},description:"",defaultValue:{value:"[\n  { start: 0, end: 60, color: 'var(--gauge-inviable)' },\n  { start: 60, end: 80, color: 'var(--gauge-converging)' },\n  { start: 80, end: 90, color: 'var(--gauge-almost)' },\n  { start: 90, end: 95, color: 'var(--gauge-viable)' },\n  { start: 95, end: 100, color: 'var(--gauge-great)' },\n]",computed:!1}},min:{required:!1,tsType:{name:"number"},description:""},max:{required:!1,tsType:{name:"number"},description:""},title:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},backgroundColor:{required:!1,tsType:{name:"string"},description:""},showTicks:{required:!1,tsType:{name:"boolean"},description:""},information:{required:!1,tsType:{name:"string"},description:""},informationUrl:{required:!1,tsType:{name:"string"},description:""},priority:{required:!1,tsType:{name:"boolean"},description:""}}}},"./lib/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{cn:()=>cn});var clsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),tailwind_merge__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tailwind-merge/dist/bundle-mjs.mjs");function cn(...inputs){return(0,tailwind_merge__WEBPACK_IMPORTED_MODULE_0__.QP)((0,clsx__WEBPACK_IMPORTED_MODULE_1__.$)(inputs))}}}]);